# Анализатор звонков продажников

Система для автоматического анализа и оценки звонков продажников с помощью искусственного интеллекта.

## Описание

Данная система позволяет:
- Загружать аудиозаписи звонков продажников
- Транскрибировать звонки в текст с помощью Whisper API
- Анализировать текст звонка с помощью Claude или GPT
- Получать оценки по ключевым критериям эффективности продаж
- Выявлять лучшие и худшие моменты в разговоре
- Формировать рекомендации по улучшению

## Требования

- Python 3.8+ 
- FFmpeg (для обработки аудиофайлов)
- Доступ к OpenAI API (для Whisper)
- Доступ к Anthropic API (для Claude) или OpenAI API (для GPT)

## Установка

1. Клонируйте репозиторий:
```

## Запуск

Запустите приложение с помощью следующей команды:

```bash
python run.py
```

После запуска вы можете открыть веб-интерфейс по адресу:
- http://localhost:8000

## Принцип работы системы

1. **Загрузка звонка**:
   - Пользователь загружает аудиофайл через веб-интерфейс или API
   - Файл сохраняется на сервере

2. **Транскрипция**:
   - Аудиофайл отправляется в Whisper API
   - Получается текстовая расшифровка разговора

3. **Анализ**:
   - Текст отправляется в Anthropic Claude или OpenAI API
   - ИИ анализирует разговор по заданным критериям
   - Формируется структурированный отчет

4. **Отображение результатов**:
   - Результаты анализа доступны в веб-интерфейсе
   - Каждый звонок можно просмотреть в деталях

## Структура проекта

```
sales-call-analyzer/
├── app/
│   ├── api/
│   │   └── routes/
│   │       └── call_routes.py     # Маршруты API
│   ├── models/
│   │   └── schemas.py             # Модели данных
│   ├── services/
│   │   ├── transcription_service.py # Сервис транскрипции
│   │   └── analysis_service.py    # Сервис анализа текста
│   ├── static/
│   │   ├── uploads/               # Загруженные файлы
│   │   ├── results/               # Результаты анализа
│   │   └── index.html             # Веб-интерфейс
│   ├── utils/
│   │   └── file_utils.py          # Утилиты для работы с файлами
│   └── main.py                    # Основной файл приложения
├── .env                           # Переменные окружения
├── requirements.txt               # Зависимости
├── run.py                         # Файл запуска
└── README.md                      # Документация
```

## Настройка критериев анализа

Вы можете настроить критерии анализа в файле `app/services/analysis_service.py`, изменив параметры промпта для ИИ-модели.

## API Endpoints

### Загрузка звонка
```
POST /api/calls/upload
```

### Проверка статуса анализа
```
GET /api/calls/status/{call_id}
```

### Получение результата анализа
```
GET /api/calls/result/{call_id}
```

### Получение списка звонков
```
GET /api/calls
```

### Удаление звонка
```
DELETE /api/calls/{call_id}
```

## Дальнейшие улучшения

- Добавление авторизации пользователей
- Интеграция с CRM-системами
- Экспорт отчетов в PDF/Excel
- Отправка уведомлений продажникам
- Сравнение эффективности разных продажников

## Лицензия

MITbash
git clone https://github.com/yourusername/sales-call-analyzer.git
cd sales-call-analyzer
```

2. Создайте и активируйте виртуальное окружение:
```bash
python -m venv venv

# Для Windows:
venv\Scripts\activate

# Для Linux/Mac:
source venv/bin/activate
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

4. Установите FFmpeg (если еще не установлен):
   - **Windows**: Скачайте FFmpeg с [официального сайта](https://ffmpeg.org/download.html) и добавьте в PATH
   - **Linux**: `sudo apt install ffmpeg`
   - **Mac**: `brew install ffmpeg`

5. Создайте файл `.env` в корневой директории и добавьте в него свои API-ключи:
```
OPENAI_API_KEY=ваш_ключ_openai
ANTHROPIC_API_KEY=ваш_ключ_anthropic
APP_ENV=development
APP_HOST=0.0.0.0
APP_PORT=8000
UPLOAD_DIR=app/static/uploads
RESULTS_DIR=app/static/results
```